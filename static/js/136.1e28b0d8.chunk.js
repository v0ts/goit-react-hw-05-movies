"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[136],{136:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(239),i=s(899),l=s(401);const n="Search_search__PbwF3",c="Search_form__vUUmR",r="Search_input__U4y-z",o="Search_button__x2+rk";var m=s(767);const u=e=>{let{onSubmit:t}=e;return(0,m.jsx)("section",{className:n,children:(0,m.jsxs)("form",{onSubmit:t,className:c,children:[(0,m.jsx)("input",{type:"text",name:"query",id:"query",className:r}),(0,m.jsx)("button",{type:"submit",className:o,children:"Search"})]})})},h={list:"Pagination_list__YN6zs",button:"Pagination_button__RrMHS"},_=e=>{let{page:t,maxPages:s,nextPage:a,prevPage:i}=e;return(0,m.jsxs)("ul",{className:h.list,children:[1!==t?(0,m.jsx)("li",{className:h.item,children:(0,m.jsx)("button",{type:"button",className:h.button,onClick:i,children:"Prev page"})}):null,t!==s?(0,m.jsx)("li",{className:h.item,children:(0,m.jsx)("button",{type:"button",className:h.button,onClick:a,children:"Next page"})}):null]})},j=()=>{const[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(1),[c,r]=(0,a.useState)([]);(0,a.useEffect)(()=>{fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(s),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNWI0YmQ0MWY2MWNkYTljNjg1NzA5ZjhjZjNiYTQ2ZCIsIm5iZiI6MTc1NjQ4OTA2My4xOTcsInN1YiI6IjY4YjFlNTY3ZDA4YWFkYmMwZjllMTI1OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.03GLifvdR2e5u2GP6kaWY0Zj2pTPijHRbShkFaA59Gc"}}).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error(e))},[e,s]);return(0,m.jsxs)("main",{children:[(0,m.jsx)(i.h,{title:"Search movie"}),(0,m.jsx)(u,{onSubmit:e=>{e.preventDefault(),t(e.target.elements.query.value),n(1),e.target.reset()}}),(0,m.jsx)(l.g,{movies:(null===c||void 0===c?void 0:c.results)||[]}),""!==e&&c.results?(0,m.jsx)(_,{page:s,maxPages:c.total_pages,nextPage:()=>{n(e=>e+1)},prevPage:()=>{n(e=>1===e?1:e-1)}}):null]})}},401:(e,t,s)=>{s.d(t,{g:()=>n});var a=s(217);const i={list:"MoviesList_list__qlIwi",link:"MoviesList_link__SpIfj",span:"MoviesList_span__G5RSA",img:"MoviesList_img__BF+q+"};var l=s(767);const n=e=>{let{movies:t}=e;return(0,l.jsx)("ul",{className:i.list,children:t.map(e=>(0,l.jsx)("li",{className:i.item,children:(0,l.jsxs)(a.N_,{to:"/movies/".concat(e.id),className:i.link,children:[(0,l.jsx)("img",{className:i.img,src:"https://image.tmdb.org/t/p/w300".concat(e.poster_path),alt:e.title||e.name}),(0,l.jsx)("span",{className:i.span,children:e.title||e.name})]})},e.id))})}},899:(e,t,s)=>{s.d(t,{h:()=>l});const a="Title_title__1COr8";var i=s(767);const l=e=>{let{title:t}=e;return(0,i.jsx)("h2",{className:a,children:t})}}}]);
//# sourceMappingURL=136.1e28b0d8.chunk.js.map